<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matthew Long | NBA Undervalued Players</title>
    <meta
      name="description"
      content="Detailed portfolio page for NBA undervalued players analysis."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Fraunces:opsz,wght@9..144,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-orb orb-a"></div>
    <div class="bg-orb orb-b"></div>

    <main class="shell shell-left">
      <header class="hero">
        <nav class="site-nav" aria-label="Primary">
          <a class="nav-link" href="index.html">Home</a>
          <a class="nav-link" href="projects.html">Projects</a>
          <a class="nav-link is-active" href="project-undervalued-players.html">Undervalued Players</a>
          <a class="nav-link" href="https://www.linkedin.com/in/mjslong/" target="_blank" rel="noreferrer">LinkedIn</a>
          <a class="nav-link" href="https://github.com/mlong2904" target="_blank" rel="noreferrer">GitHub</a>
        </nav>

        <p class="eyebrow">Project Detail</p>
        <h1>NBA Undervalued Players Analysis</h1>
        <p class="lede">
          A market-value model for identifying players who outperformed expectations based on
          wins above average and prior-season context.
        </p>
      </header>

      <section class="panel">
        <h2>Overview</h2>
        <p>
          This analysis covers NBA seasons from 1991 to 2026 and focuses on non-All-Star
          players. The core output is an <code>undervalued_score</code> that highlights players
          creating more impact than expected by the model.
        </p>
        <div class="stat-row" id="csv-stats">
          <span class="stat-pill">Waiting for CSV</span>
        </div>
      </section>

      <section class="panel">
        <h2>Data Source</h2>
        <ul class="clean-list">
          <li>File: <code>data/market_value_master_1991_2026_non_all_stars.csv</code></li>
          <li>Main fields: season, player, wins_above_average, expected_wins_above_average, undervalued_score</li>
          <li>Scope: non-All-Star seasons only</li>
        </ul>
      </section>

      <section class="panel">
        <h2>Visualizations</h2>
        <div class="viz-grid">
          <article class="viz-card">
            <h3>Top 10 Undervalued Player-Seasons</h3>
            <div id="top-undervalued-bars" class="bar-chart">
              <p class="viz-meta">Loading chart...</p>
            </div>
          </article>
          <article class="viz-card">
            <h3>Average Undervalued Score by Season</h3>
            <div class="trend-wrap">
              <svg id="season-trend-chart" viewBox="0 0 680 220" preserveAspectRatio="xMinYMid meet" role="img" aria-label="Season trend chart"></svg>
            </div>
            <p id="season-trend-meta" class="viz-meta">Loading chart...</p>
          </article>
        </div>
      </section>

      <section class="table-panel" aria-live="polite">
        <div class="table-head">
          <h3>Dataset Preview</h3>
          <p id="csv-source">No data loaded yet.</p>
        </div>
        <details class="filter-dropdown">
          <summary>Filters and Sorting</summary>
          <div class="controls-grid">
            <label class="control">
              <span>Player contains</span>
              <input id="filter-player" type="text" placeholder="e.g. Gobert" />
            </label>
            <label class="control">
              <span>Season from</span>
              <input id="filter-season-min" type="number" inputmode="numeric" />
            </label>
            <label class="control">
              <span>Season to</span>
              <input id="filter-season-max" type="number" inputmode="numeric" />
            </label>
            <label class="control">
              <span>Min undervalued score</span>
              <input id="filter-min-undervalued" type="number" step="0.01" />
            </label>
            <label class="control">
              <span>Sort by</span>
              <select id="sort-field">
                <option value="undervalued_score">undervalued_score</option>
                <option value="wins_above_average">wins_above_average</option>
                <option value="expected_wins_above_average">expected_wins_above_average</option>
                <option value="season">season</option>
                <option value="player">player</option>
              </select>
            </label>
            <label class="control">
              <span>Order</span>
              <select id="sort-direction">
                <option value="desc">Descending</option>
                <option value="asc">Ascending</option>
              </select>
            </label>
            <label class="control">
              <span>Rows per page</span>
              <select id="rows-per-page">
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100" selected>100</option>
                <option value="200">200</option>
              </select>
            </label>
          </div>
          <div class="button-row">
            <button id="reset-filters" class="button" type="button">Reset</button>
          </div>
        </details>
        <div class="table-wrap">
          <table id="csv-table">
            <thead></thead>
            <tbody>
              <tr>
                <td>Loading dataset...</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="pagination-bar">
          <button id="page-prev" class="button" type="button">Previous</button>
          <p id="page-info">Showing 0-0 of 0</p>
          <label class="page-jump">
            <span>Page</span>
            <input id="page-jump" type="number" min="1" value="1" inputmode="numeric" />
          </label>
          <button id="page-next" class="button" type="button">Next</button>
        </div>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
